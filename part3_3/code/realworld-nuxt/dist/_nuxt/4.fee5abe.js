(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{188:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return m})),n.d(e,"h",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return v})),n.d(e,"f",(function(){return h}));var r=n(62),o=function(t){return Object(r.b)({method:"GET",url:"/api/articles",params:t})},c=function(data){return Object(r.b)({method:"post",url:"/api/articles",data:data})},l=function(){return Object(r.b)({method:"GET",url:"/api/tags"})},m=function(t){return Object(r.b)({method:"post",url:"/api/articles/".concat(t,"/favorite")})},d=function(t){return Object(r.b)({method:"delete",url:"/api/articles/".concat(t,"/favorite")})},f=function(t){return Object(r.b)({method:"get",url:"/api/articles/".concat(t)})},v=function(t,data){return Object(r.b)({method:"post",url:"/api/articles/".concat(t,"/comments"),data:data})},h=function(t){return Object(r.b)({method:"get",url:"/api/articles/".concat(t,"/comments")})}},189:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return m})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return v}));var r=n(62),o=function(data){return Object(r.b)({url:"/api/users/login",method:"post",data:data})},c=function(data){return Object(r.b)({url:"/api/users",method:"post",data:data})},l=function(data){return Object(r.b)({url:"/api/user",method:"get",data:data})},m=function(data){return Object(r.b)({url:"/api/user",method:"put",data:data})},d=function(t){return Object(r.b)({url:"/api/profiles/".concat(t),method:"get"})},f=function(t){return Object(r.b)({url:"/api/profiles/".concat(t,"/follow"),method:"post"})},v=function(t){return Object(r.b)({url:"/api/profiles/".concat(t,"/follow"),method:"delete"})}},256:function(t,e,n){"use strict";n.r(e);n(29);var r=n(4),o=n(188),c=n(201),l=n.n(c),m=n(189),d={name:"userComponent",components:{},props:{article:{type:Object}},data:function(){return{followingDisabled:!1,FavoriteFisabled:!1}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{following:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var article,n,r,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.state.user){e.next=3;break}return t.$router.push({name:"login"}),e.abrupt("return");case 3:return article=t.article,t.followingDisabled=!0,n=article.author.following,r=n?m.f:m.a,e.next=9,r(article.author.username);case 9:o=e.sent,data=o.data,t.$emit("changeFollow",data.profile),t.followingDisabled=!1;case 13:case"end":return e.stop()}}),e)})))()},favorited:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var article,n,r,c,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.state.user){e.next=3;break}return t.$router.push({name:"login"}),e.abrupt("return");case 3:return article=t.article,t.FavoriteFisabled=!0,n=article.favorited,r=n?o.h:o.c,e.next=9,r(article.slug);case 9:c=e.sent,data=c.data,t.$emit("changeFavorite",data.article),t.FavoriteFisabled=!1;case 13:case"end":return e.stop()}}),e)})))()}}},f=n(23),v=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-meta"},[n("nuxt-link",{attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[n("img",{attrs:{src:t.article.author.image}})]),t._v(" "),n("div",{staticClass:"info"},[n("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[t._v(t._s(t.article.author.username))]),t._v(" "),n("span",{staticClass:"date"},[t._v(t._s(t.article.author.createdAt))])],1),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-secondary",class:{active:t.article.author.following},attrs:{disabled:t.followingDisabled},on:{click:function(e){return t.following()}}},[n("i",{staticClass:"ion-plus-round"}),t._v("\n\n      Follow "+t._s(t.article.author.username)+"\n  ")]),t._v("\n\n    \n\n  "),n("button",{staticClass:"btn btn-sm btn-outline-primary",class:{active:t.article.favorited},attrs:{disabled:t.FavoriteFisabled},on:{click:function(e){return t.favorited()}}},[n("i",{staticClass:"ion-heart"}),t._v("\n\n      Favorite Post\n    "),n("span",{staticClass:"counter"},[t._v("("+t._s(t.article.favoritesCount)+")")])])],1)}),[],!1,null,"12a2f622",null).exports,h={name:"compmentComponent",components:{},props:{article:{type:Object}},data:function(){return{comment:"",commentList:[]}},computed:{user:function(){return this.$store.state.user||{}}},watch:{},created:function(){},mounted:function(){this.getCommentList()},methods:{submit:function(){var t=this;this.$store.state.user?Object(o.a)(this.article.slug,{comment:{body:this.comment}}).then((function(e){var data=e.data;t.commentList.unshift(data.comment)})):this.$router.push({name:"login"})},getCommentList:function(){var t=this;Object(o.f)(this.article.slug).then((function(e){var data=e.data;t.commentList=data.comments}))}}},_={name:"articlePage",components:{user:v,comment:Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xs-12 col-md-8 offset-md-2"},[n("form",{staticClass:"card comment-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"card-block"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{placeholder:"Write a comment...",rows:"3"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"card-footer"},[n("img",{staticClass:"comment-author-img",attrs:{src:t.user.image}}),t._v(" "),n("button",{staticClass:"btn btn-sm btn-primary"},[t._v("\n        Post Comment\n      ")])])]),t._v(" "),t._l(t.commentList,(function(e){return n("div",{key:e.id,staticClass:"card"},[n("div",{staticClass:"card-block"},[n("p",{staticClass:"card-text"},[t._v("\n        "+t._s(e.body)+"\n      ")])]),t._v(" "),n("div",{staticClass:"card-footer"},[n("nuxt-link",{staticClass:"comment-author",attrs:{to:{name:"profile",params:{username:e.author.username}}}},[n("img",{staticClass:"comment-author-img",attrs:{src:e.author.image}})]),t._v("\n\n       \n\n      "),n("a",{staticClass:"comment-author",attrs:{href:""}},[t._v(t._s(e.author.username))]),t._v(" "),n("span",{staticClass:"date-posted"},[t._v(t._s(e.author.createdAt))])],1)])}))],2)}),[],!1,null,"436779de",null).exports},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,data,article,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,r=n.slug,e.next=4,Object(o.e)(r);case 4:return c=e.sent,data=c.data,article=data.article,m=new l.a,data.article.body=m.render(article.body),e.abrupt("return",{article:article});case 10:case"end":return e.stop()}}),e)})))()},head:function(){return{title:"".concat(this.article.title," - RealWorld"),meta:[{hid:"description",name:"description",content:this.article.description}]}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{follow:function(t){this.$set(this.article,"author",t),console.log(this.article)},favorite:function(t){this.article=t}}},C=Object(f.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"article-page"},[n("div",{staticClass:"banner"},[n("div",{staticClass:"container"},[n("h1",[t._v(t._s(t.article.title))]),t._v(" "),n("div",{staticClass:"article-actions"},[n("user",{attrs:{article:t.article},on:{changeFollow:t.follow,changeFavorite:t.favorite}})],1)])]),t._v(" "),n("div",{staticClass:"container page"},[n("div",{staticClass:"row article-content"},[n("div",{staticClass:"col-md-12",domProps:{innerHTML:t._s(t.article.body)}})]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"article-actions"},[n("user",{attrs:{article:t.article}})],1),t._v(" "),n("div",{staticClass:"row"},[n("comment",{attrs:{article:t.article},on:{changeFollow:t.follow,changeFavorite:t.favorite}})],1)])])])}),[],!1,null,"937d7be8",null);e.default=C.exports}}]);